{% extends "frame.html" %}
{% block pagetitle %} Matrix {% endblock %}
{% block content %}

<g style="width:960px; display:block; transform:translate(-95px, 0); border:1px solid black;
border-radius:5px; overflow:hidden; padding-top:8px; margin-bottom:20px; height:1600px;">
</g>

<script src="/static/js/d3.v3.js"></script>

<script>
    d3.json("/static/json/post_list.json", function(error, dataset) {
        if (error) throw error;
        var frame = d3.select("g")
                .selectAll("a")
                .data(dataset)
                .enter();
        frame
                .append("a")
                .attr({
                    "href": function(d) { return d['route']; },
                    "class": "blog-frame navigation-link"
                })
                .append("span")
                .style({
                    "width": "320px",
                    "height": "160px",
                    "background-image": function(d) { return "url(\"/static/post_snaps/" + d['snap'] + "\")"; },
                    "background-size": "320px 160px",
                    "display": "table-cell"
                })
                .append("span")
                .classed("matrix-link", true)
                .style({
                    "display": "block",
                    "padding": "15px"
                })
                .text(function(d) { return d['title']; });
    });
</script>

{% endblock %}